{"version":3,"sources":["/home/xpms/pulse/src/app/auth/auth-init/auth-init.component.css","/home/xpms/pulse/src/app/auth/auth-init/auth-init.component.html","/home/xpms/pulse/src/app/auth/auth-init/auth-init.component.ts","/home/xpms/pulse/src/app/auth/auth.module.ts","/home/xpms/pulse/src/app/auth/auth.routes.ts","/home/xpms/pulse/src/app/auth/login/login.component.css","/home/xpms/pulse/src/app/auth/login/login.component.html","/home/xpms/pulse/src/app/auth/login/login.component.ts","/home/xpms/pulse/src/app/auth/logout/logout.component.css","/home/xpms/pulse/src/app/auth/logout/logout.component.html","/home/xpms/pulse/src/app/auth/logout/logout.component.ts"],"names":[],"mappings":"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","file":"auth.module.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".bg {\\n    background-color: transparent;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/xpms/pulse/src/app/auth/auth-init/auth-init.component.css\n// module id = ../../../../../src/app/auth/auth-init/auth-init.component.css\n// module chunks = auth.module","module.exports = \"<app-body></app-body>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/xpms/pulse/src/app/auth/auth-init/auth-init.component.html\n// module id = ../../../../../src/app/auth/auth-init/auth-init.component.html\n// module chunks = auth.module","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-auth-init',\n  templateUrl: './auth-init.component.html',\n  styleUrls: ['./auth-init.component.css']\n})\nexport class AuthInitComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/xpms/pulse/src/app/auth/auth-init/auth-init.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { LoginComponent } from './login/login.component';\nimport { LogoutComponent } from './logout/logout.component';\nimport { AuthInitComponent } from './auth-init/auth-init.component';\n\nimport { SharedComponentsModule } from '../shared/shared-components/shared-components.module';\n\nimport {SharedModulesModule} from '../shared/shared-modules/shared-modules.module';\n\nimport { routeRoot } from './auth.routes';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n\n    SharedModulesModule,\n    SharedComponentsModule,\n    \n    routeRoot\n  ],\n  declarations: [LoginComponent, LogoutComponent, AuthInitComponent]\n})\nexport class AuthModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/xpms/pulse/src/app/auth/auth.module.ts","\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuthInitComponent } from './auth-init/auth-init.component';\nimport { LoginComponent } from './login/login.component';\nimport { LogoutComponent } from './logout/logout.component';\n\nimport { AuthLoginGuardService } from '../shared/shared-services/auth-guard/auth-guard.service';\n\nexport const routes: Routes = [\n    {\n        path: '',\n        component: AuthInitComponent,\n        canActivate: [AuthLoginGuardService],\n        children: [\n            { path: '', redirectTo: 'login', pathMatch: 'full' },\n            { path: 'login', component: LoginComponent },\n            { path: 'logout', component: LogoutComponent }\n        ]\n    }\n];\n\nexport const routeRoot = RouterModule.forChild(routes);\n\n\n\n// WEBPACK FOOTER //\n// /home/xpms/pulse/src/app/auth/auth.routes.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"mat-card{\\n    margin: 100px auto;\\n    width: 300px;\\n}\\n.align-center{\\n    text-align: center;\\n    padding-bottom: 20px;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/xpms/pulse/src/app/auth/login/login.component.css\n// module id = ../../../../../src/app/auth/login/login.component.css\n// module chunks = auth.module","module.exports = \"<mat-card>\\n  <mat-card-title></mat-card-title>\\n  <div>\\n    <div class=\\\"align-center\\\"> checking session</div>\\n    <mat-progress-bar mode=\\\"buffer\\\"></mat-progress-bar>\\n  </div>\\n\\n</mat-card>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/xpms/pulse/src/app/auth/login/login.component.html\n// module id = ../../../../../src/app/auth/login/login.component.html\n// module chunks = auth.module","import { Component, OnInit } from '@angular/core';\n\nimport { AuthService } from '../../shared/shared-services/auth/auth.service';\nimport { Router } from '@angular/router';\nimport { ConfigService } from '../../../app/shared/shared-services/config/config.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  public username: string = '';\n  public password: string = '';\n  public errorMessage: string = '';\n  isSuperAdmin: boolean = false;\n  checkingSession: boolean = false;\n  constructor(\n    private _auth: AuthService,\n    private _router: Router,private config:ConfigService\n  ) { }\n\n  ngOnInit() {\n    this.getLoggedInUserInfo();\n  }\n\n  private getLoggedInUserInfo() {\n    this.checkingSession = true;\n\n    setTimeout(() => {\n      let user = this._auth.authUser;\n      if (user === null) {\n        this.checkingSession = false;\n        window.location.assign(this.config.config.baseUrl);\n      }\n      else {\n        this._auth.getUserInfo().subscribe((data) => {\n          this.gotoDashboard();\n        });\n      }\n    }, 3000);\n    this._auth.getUserInfo().subscribe((data) => {\n      this.gotoDashboard();\n    });\n    \n  }\n\n  public login() {\n    this._auth.login({\n      username: this.username,\n      password: this.password\n    }).subscribe((data) => {\n      this.gotoDashboard();\n    }, (error) => {\n      this.errorMessage = error.error;\n    })\n  }\n\n  private gotoDashboard() {\n    this.isSuperAdmin = this._auth.isSuperAdmin;\n    console.log('this.isSuperAdmin', this.isSuperAdmin);\n    // if (!this.isSuperAdmin) {\n    //   this._router.navigate(['/app/operational/dashboard']);\n    // } else {\n    //   console.log(\"not nav to gotoDashboard\");\n    // }\n    this._router.navigate(['/app/operational/dashboard']);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/xpms/pulse/src/app/auth/login/login.component.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".bg {\\n    background-color: transparent;\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/xpms/pulse/src/app/auth/logout/logout.component.css\n// module id = ../../../../../src/app/auth/logout/logout.component.css\n// module chunks = auth.module","module.exports = \"<mat-card>\\n    <mat-card-title>Logged out of the Application</mat-card-title>\\n    <div>\\n        Please click <a href=\\\"/\\\">here</a> to Login again.\\n    </div>\\n</mat-card>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/xpms/pulse/src/app/auth/logout/logout.component.html\n// module id = ../../../../../src/app/auth/logout/logout.component.html\n// module chunks = auth.module","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../../shared/shared-services/auth/auth.service';\n\n@Component({\n  selector: 'app-logout',\n  templateUrl: './logout.component.html',\n  styleUrls: ['./logout.component.css']\n})\nexport class LogoutComponent implements OnInit {\n  safehtml:any;\n  constructor(\n    private _auth: AuthService\n  ) { }\n\n  ngOnInit() {\n    window.localStorage.clear();\n    this._auth.authUser = null;\n      // window.localStorage.clear();\n      this.deleteAllCookies();\n      // this._auth.authUser = null;\n      // this._auth.logoutPost().subscribe((data)=>{\n      //   window.location.reload();\n      // });\n      \n  }\n\n  deleteAllCookies() {\n    var cookies = document.cookie.split(\";\");\n    for (var i = 0; i < cookies.length; i++) {\n        var cookie = cookies[i];\n        var eqPos = cookie.indexOf(\"=\");\n        var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\n        document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\n    }\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/xpms/pulse/src/app/auth/logout/logout.component.ts"],"sourceRoot":"webpack:///"}